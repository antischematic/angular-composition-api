"use strict";(self.webpackChunkpackages_docs=self.webpackChunkpackages_docs||[]).push([[915],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return m}});var o=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=o.createContext({}),c=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=c(e.components);return o.createElement(l.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(t),m=r,f=d["".concat(l,".").concat(m)]||d[m]||p[m]||i;return t?o.createElement(f,a(a({ref:n},u),{},{components:t})):o.createElement(f,a({ref:n},u))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,a=new Array(i);a[0]=d;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var c=2;c<i;c++)a[c]=t[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},6247:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return u},default:function(){return d}});var o=t(7462),r=t(3366),i=(t(7294),t(3905)),a=["components"],s={sidebar_position:8},l="Zone.js",c={unversionedId:"zones",id:"zones",isDocsHomePage:!1,title:"Zone.js",description:"Improve runtime performance with zone.js partial opt-out.",source:"@site/docs/zones.md",sourceDirName:".",slug:"/zones",permalink:"/angular-composition-api/docs/zones",editUrl:"https://github.com/mmuscat/angular-composition-api/tree/master/docs/zones.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"Lifecycle Hooks",permalink:"/angular-composition-api/docs/lifecycle"}},u=[{value:"Improve runtime performance with <code>zone.js</code> partial opt-out.",id:"improve-runtime-performance-with-zonejs-partial-opt-out",children:[]}],p={toc:u};function d(e){var n=e.components,t=(0,r.Z)(e,a);return(0,i.kt)("wrapper",(0,o.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"zonejs"},"Zone.js"),(0,i.kt)("h2",{id:"improve-runtime-performance-with-zonejs-partial-opt-out"},"Improve runtime performance with ",(0,i.kt)("inlineCode",{parentName:"h2"},"zone.js")," partial opt-out."),(0,i.kt)("p",null,"Application performance can be further optimised by disabling parts of zone.js."),(0,i.kt)("p",null,"Next to ",(0,i.kt)("inlineCode",{parentName:"p"},"polyfills.ts"),", create a ",(0,i.kt)("inlineCode",{parentName:"p"},"zone-flags.ts")," with the following content:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="zone-flags.ts (recommended)"',title:'"zone-flags.ts','(recommended)"':!0},"(window as any).__Zone_disable_MessagePort = true;\n(window as any).__Zone_disable_notification = true;\n(window as any).__Zone_disable_mediaQuery = true;\n(window as any).__Zone_disable_geolocation = true;\n(window as any).__Zone_disable_XHR = true;\n(window as any).__Zone_enable_cross_context_check = true;\n(window as any).__Zone_disable_IE_check = true;\n(window as any).__Zone_disable_canvas = true;\n(window as any).__Zone_disable_FileReader = true;\n(window as any).__Zone_disable_IntersectionObserver = true;\n(window as any).__Zone_disable_MutationObserver = true;\n(window as any).__Zone_disable_blocking = true;\n(window as any).__Zone_disable_on_property = true;\n(window as any).__Zone_disable_requestAnimationFrame = true;\n(window as any).__zone_symbol__UNPATCHED_EVENTS = ['scroll', 'mousemove'];\n")),(0,i.kt)("p",null,"Then import this file before importing ",(0,i.kt)("inlineCode",{parentName:"p"},"zone.js"),". If you encounter change detection issues, try commenting out one or\nmore of these flags until it is fixed."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="polyfills.ts"',title:'"polyfills.ts"'},'import "./zone-flags"\nimport "zone.js" // Included with Angular CLI.\n')),(0,i.kt)("p",null,"At the moment opting out of zone.js entirely is not recommended. Many libraries such as Angular Material depend on it to\nfunction correctly. This project will align with Angular's zone.js opt-out milestone as more details become available."))}d.isMDXComponent=!0}}]);